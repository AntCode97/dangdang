import Head from "next/head";
import { connect } from "react-redux";
import styles from "../scss/layout/layout.module.scss";
import NavBar from "./Navbar";
import Footer from "./layout/footer";
import { useRouter } from "next/router";

function mapStateToProps({ userReducer }) {
  return {
    user: userReducer.user,
  };
}

export default connect(mapStateToProps, null)(Layout);

function Layout({ children }) {
  const router = useRouter();

  return (
    <>
      <Head>
        <title>당당 | 당당하게 면접보자!</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/images/favicon.ico" />
      </Head>
      <div className={styles.bodyWrapper}>
        {router.pathname === "/" ||
        router.pathname.slice(0, 16) === "/web-conference/" ||
        router.pathname.slice(0, 15) === "/self-practice/" ? null : (
          <NavBar />
        )}
        <div className={styles.mainContainer}>{children}</div>
        <Footer></Footer>
      </div>
    </>
  );
}
